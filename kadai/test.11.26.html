<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../CSS/test.css">
</head>
<body>

        <h1>
            強豪のパ
        </h1>

        <div class="content" >
        
        <div>Team<input type="text" id="username" placeholder="好きなチーム"></div>
        <!-- 送信ボタン -->
        <ol>
            <li><input type="text" id="b1">
                <span>
                    <select class="select" name="position">
                        <option value="p2">C</option>
                        <option value="p3">1B</option>
                        <option value="p4">2B</option>
                        <option value="p5">3B</option>
                        <option value="p6">SS</option>
                        <option value="p7">LF</option>
                        <option value="p8">CF</option>
                        <option value="p9">RF</option>
                        <option value="DH">DH</option>
                    </select>
                </span>
            </li>
            <li><input type="text" id="b2">
                <span>
                    <select class="select" name="position">
                        <option value="p2">C</option>
                        <option value="p3">1B</option>
                        <option value="p4">2B</option>
                        <option value="p5">3B</option>
                        <option value="p6">SS</option>
                        <option value="p7">LF</option>
                        <option value="p8">CF</option>
                        <option value="p9">RF</option>
                        <option value="DH">DH</option>
                    </select>
                </span>
            </li>            
            <li><input type="text" id="b3">
                <span>
                    <select class="select" name="position">
                        <option value="p2">C</option>
                        <option value="p3">1B</option>
                        <option value="p4">2B</option>
                        <option value="p5">3B</option>
                        <option value="p6">SS</option>
                        <option value="p7">LF</option>
                        <option value="p8">CF</option>
                        <option value="p9">RF</option>
                        <option value="DH">DH</option>
                    </select>
                </span>
            </li>            
            <li><input type="text" id="b4">
                <span>
                    <select class="select" name="position">
                        <option value="p2">C</option>
                        <option value="p3">1B</option>
                        <option value="p4">2B</option>
                        <option value="p5">3B</option>
                        <option value="p6">SS</option>
                        <option value="p7">LF</option>
                        <option value="p8">CF</option>
                        <option value="p9">RF</option>
                        <option value="DH">DH</option>
                    </select>
                </span>
            </li>            
            <li><input type="text" id="b5">
                <span>
                    <select class="select" name="position">
                        <option value="p2">C</option>
                        <option value="p3">1B</option>
                        <option value="p4">2B</option>
                        <option value="p5">3B</option>
                        <option value="p6">SS</option>
                        <option value="p7">LF</option>
                        <option value="p8">CF</option>
                        <option value="p9">RF</option>
                        <option value="DH">DH</option>
                    </select>
                </span>
            </li>            
            <li><input type="text" id="b6">
                <span>
                    <select class="select" name="position">
                        <option value="p2">C</option>
                        <option value="p3">1B</option>
                        <option value="p4">2B</option>
                        <option value="p5">3B</option>
                        <option value="p6">SS</option>
                        <option value="p7">LF</option>
                        <option value="p8">CF</option>
                        <option value="p9">RF</option>
                        <option value="DH">DH</option>
                    </select>
                </span>
            </li>            
            <li><input type="text" id="b7">
                <span>
                    <select class="select" name="position">
                        <option value="p2">C</option>
                        <option value="p3">1B</option>
                        <option value="p4">2B</option>
                        <option value="p5">3B</option>
                        <option value="p6">SS</option>
                        <option value="p7">LF</option>
                        <option value="p8">CF</option>
                        <option value="p9">RF</option>
                        <option value="DH">DH</option>
                    </select>
                </span>
            </li>            
            <li><input type="text" id="b8">
                <span>
                    <select class="select" name="position">
                        <option value="p2">C</option>
                        <option value="p3">1B</option>
                        <option value="p4">2B</option>
                        <option value="p5">3B</option>
                        <option value="p6">SS</option>
                        <option value="p7">LF</option>
                        <option value="p8">CF</option>
                        <option value="p9">RF</option>
                        <option value="DH">DH</option>
                    </select>
                </span>
            </li>            
            <li><input type="text" id="b9">
                <span>
                    <select class="select" name="position">
                        <option value="p2">C</option>
                        <option value="p3">1B</option>
                        <option value="p4">2B</option>
                        <option value="p5">3B</option>
                        <option value="p6">SS</option>
                        <option value="p7">LF</option>
                        <option value="p8">CF</option>
                        <option value="p9">RF</option>
                        <option value="DH">DH</option>
                    </select>
                </span>
            </li>


        </ol>


        <div class="text2">
            <textarea name="" id="text2" cols="30" rows="10" placeholder="このチームの特徴"></textarea>
        </div>

        <button id="send">試合へ</button>
        <button id="jump">強すぎて歯が立たない</button>

       
        <!-- チャット文字が来る場所 -->
        <div id="output"></div>

        </div>

        <div class="kekka"></div>


    <!-- 以下jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>




    <!-- 以下javascript領域 -->
        
     <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->

    <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyClczwc-tLI4E4hWa_5_NSviGz0HuXLAn8",
        authDomain: "chatapp-156a7.firebaseapp.com",
        databaseURL: "https://chatapp-156a7.firebaseio.com",
        projectId: "chatapp-156a7",
        storageBucket: "chatapp-156a7.appspot.com",
        messagingSenderId: "1065419378232",
        appId: "1:1065419378232:web:fe799e9fac47d82583e0cd"
    };

    var date=new Date();
    date.getFullYear() + "/" + (date.getMonth()+1) + "/"+ date.getDate() + "/" + date.getDay()

    console.log(date);

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    // データベースへの接続
    let newPostRef = firebase.database().ref();


    // 送信処理　newpostrefで済むように上で置いてる
    $("#send").on("click", function(){
        newPostRef.push({
            username: $("#username").val(),
            b1: $("#b1").val(),
            b2: $("#b2").val(),
            b3: $("#b3").val(),
            b4: $("#b4").val(),
            b5: $("#b5").val(),
            b6: $("#b6").val(),
            b7: $("#b7").val(),
            b8: $("#b8").val(),
            b9: $("#b9").val(),
            text2: $("#text2").val(),

        });
        $("#username").val("");
        $("#b1").val("");
        $("#b2").val("");
        $("#b3").val("");
        $("#b4").val("");
        $("#b5").val("");
        $("#b6").val("");
        $("#b7").val("");
        $("#b8").val("");
        $("#b9").val("");
        $("#text2").val("");


    });
    // // 送信処理second
    // $("#text").on("keydown", function(e){
    //     console.log(e);
    //     if(e.keyCode==13){
    //         newPostRef.push({
    //         username: $("#username").val(),
    //         text: $("#text").val(),
    //         text2: $("text2").val()
            
    //     });
    //     $("#username").val("");
    //     $("#text").val("");
    //     $("text2").val("");

    //     }
    // });

    // $("jumppage").on("click", function(){

    // });

    // 受信処理　　↓dataにはいる
    newPostRef.on("child_added", function(data){
        const v = data.val();
        const k = data.key;

        let str = "";
        str += "<dl>";
        str +="<dt>"+v.username+"</dt>";
        str +="<dd>"+v.b1+"</dd>";
        str +="<dd>"+v.b2+"</dd>";
        str +="<dd>"+v.b3+"</dd>";
        str +="<dd>"+v.b4+"</dd>";
        str +="<dd>"+v.b5+"</dd>";
        str +="<dd>"+v.b6+"</dd>";
        str +="<dd>"+v.b7+"</dd>";
        str +="<dd>"+v.b8+"</dd>";
        str +="<dd>"+v.b9+"</dd>";
        str +="<dd>"+v.text2+"</dd>";
        
        str +="</dl>";
        
       
        $("#output").append(str);
        $("#output").append(date);

    });

    $("#jump").on("click", function(){
        open( "file:///Users/nishikawakyo/Desktop/%E3%82%B7%E3%82%99%E3%83%BC%E3%82%B9%E3%82%99%E3%82%A2%E3%82%AB%E3%83%86%E3%82%99%E3%83%9F%E3%83%BC/%E5%80%8B%E4%BA%BA%E7%B7%B4%E7%BF%92/html/test2.html","_blank" ) ;
    });

    $("#send").on("click", function () {
    // $(".button").css("color", "red");
    // $(".kekka").html("押されましたよ");
    var random = Math.floor(Math.random() * 5);
    console.log(random, "便利な機能を使ってランダムな数字が出ます");
    if (random == 0) {
      // 0の時に実行したいことをかく
      console.log("大吉");
      $(".kekka").html("10-0");
    } else if (random == 1) {
      // 1の時に実行したいことをかく
      console.log("中吉");
      $(".kekka").html("5-3");
    } else if (random == 2) {
      // 2の時に実行したいことをかく
      console.log("小吉");
      $(".kekka").html("2-2");
    } else if (random == 3) {
      console.log("吉");
      $(".kekka").html("3-5");
    } else if (random == 4) {
      console.log("末");     
      $(".kekka").html("0-10");

    }
});






    </script>



    <!-- // 以下にchat内容となるjavascriipt -->



    


</body>
</html>